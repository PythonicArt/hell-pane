<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>anki card</title>
        <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.js"> </script>
        <link href="card.css" rel="stylesheet" type="text/css"/>
    </head>
    <body >
        <div class="card" id="my-card">
            <div class="my-point field-box">
                {{Word}}
            </div>

            <div class="my-define field-box">
                {{定义}}
                <!-- <span class="w-type">ADJ</span> -- <span id="entrans1" class="en-trans">English translation!!!</span> <span class="chi-trans">中文解释</span>
                <p id="exam1" class="example">例子1</p> -->
            </div>
            <div class="my-point field-box">
                {{要点}}
                <!-- <span class="w-type">ADJ</span> -- <span class="en-trans">English translation!!!</span> <span class="chi-trans">中文解释</span> -->
            </div>
            <div class="my-example field-box">
                {{举例}}
                <!-- <span class="w-type">ADJ</span> -- <span class="en-trans">English translation!!!</span> <span class="chi-trans">中文解释</span> -->
            </div>
            <div class="my-compare field-box">
                <!-- <span class="w-type">ADJ</span> -- <span class="en-trans">English translation!!!</span> <span class="chi-trans">中文解释</span> -->
                {{比较}}
            </div>
            <div class="my-compare field-box">
                {{phonetic}}
                <audio id="player" controls="control" style="width:95px;display: inline;"> <source src="http://cgdict.com/mp3/{{Word}}_am.mp3" /> </audio>
            </div>
            <div class="field-box">
                <img src="http://youdict.com/images/words/{{Word}}1.jpg" alt="{{Word}}">
            </div>
            <div class="my-tags field-box">
                From: {{Tags}}
            </div>

        </div>

    </body>
</html>

<script >
    var bList = $('.w-type') //兼容老数据
    if (bList.length == 0) {
        bList = $('.my-button')
        for (var i = 0; i < bList.length; i++) {
            var oButton = bList[i]
            oButton.style.display = 'none'
        }
    }
    else{
        // $('.en-trans')
        bList = $('.my-button')
        console.log(bList);
        for (var i = 0; i < bList.length; i++) {
            var oButton = bList[i]
            oButton.onclick = function() {
                let oEnTrans = $('.en-trans')[this.idx]
                let oExample = $('.example')[this.idx]
                if (this.step == 0) {
                    oEnTrans.style.display = 'inline'
                    this.button.textContent = 'show example'
                }
                else{
                    oExample.style.display = 'block'
                    this.button.style.display = 'none'
                }
                this.step = this.step +1
            }.bind({'idx':i, 'step':0, 'button':oButton})
        }
    }
</script >
